{"ast":null,"code":"var _jsxFileName = \"/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport TableView from './TableView';\nconst URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants'; //const URL_PATH = 'http://localhost:8081/power-plants';\n\nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number,\n  pageSize: PropTypes.number\n};\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n};\nexport default class PowerPlantList extends Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      data: [],\n      filter: \"\",\n      productionValue: \"\",\n      view: 'table',\n      currentPage: 1\n    };\n    this._loadData = this._loadData.bind(this);\n  }\n\n  componentWillMount() {\n    this._loadData(); // first time loading the data\n\n\n    setInterval(() => this._loadData(), 10000); // data will after 10 second\n  }\n\n  filterType(e) {\n    this.setState({\n      filter: e.target.value\n    });\n  }\n\n  filterProductionValue(e) {\n    this.setState({\n      productionValue: e.target.value\n    });\n  }\n\n  _loadData() {\n    const data = this.state.data;\n    axios.get(URL_PATH).then(response => {\n      console.log(response);\n      this.setState({\n        data: response.data\n      });\n    });\n  }\n\n  onClick() {\n    console.log(this.state.view);\n    this.setState({\n      view: 'map'\n    }, () => {});\n  }\n\n  render() {\n    // filter type\n    let getData;\n\n    if (this.state.filter != '') {\n      getData = this.state.data.filter(dt => {\n        console.log(dt.type);\n        return dt.type === this.state.filter;\n      });\n    } else {\n      getData = this.state.data;\n    } //  productionValue sorting\n\n\n    if (this.state.productionValue) {\n      console.log(this.state.productionValue);\n\n      if (this.state.productionValue == 'desc') {\n        getData.sort((a, b) => b.production_value_kw - a.production_value_kw);\n      } else if (this.state.productionValue == 'asc') {\n        getData.sort((a, b) => a.production_value_kw - b.production_value_kw);\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Power Plants\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Filter\"), React.createElement(\"select\", {\n      onChange: this.filterType.bind(this),\n      value: this.state.filterType,\n      className: \"browser-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Select Type\"), React.createElement(\"option\", {\n      value: \"WIND_ONSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"On Shore\"), React.createElement(\"option\", {\n      value: \"WIND_OFFSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Off Shore\"), React.createElement(\"option\", {\n      value: \"HYDRO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Hydro\"), React.createElement(\"option\", {\n      value: \"BIOMASS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"BIOMASS\"))), React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Production Value (Max or Min)\"), React.createElement(\"select\", {\n      onChange: this.filterProductionValue.bind(this),\n      value: this.state.filterProductionValue,\n      className: \"browser-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Select Production Value\"), React.createElement(\"option\", {\n      value: \"desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Production Value Max\"), React.createElement(\"option\", {\n      value: \"asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Production Value Min\")))), React.createElement(TableView, {\n      data: getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js"],"names":["React","Component","axios","PropTypes","TableView","URL_PATH","propTypes","items","array","isRequired","onChangePage","func","initialPage","number","pageSize","defaultProps","PowerPlantList","constructor","props","onClick","bind","state","data","filter","productionValue","view","currentPage","_loadData","componentWillMount","setInterval","filterType","e","setState","target","value","filterProductionValue","get","then","response","console","log","render","getData","dt","type","sort","a","b","production_value_kw"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport TableView from './TableView';\n const URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants';\n//const URL_PATH = 'http://localhost:8081/power-plants';\n \n \nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number,\n  pageSize: PropTypes.number\n}\n\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n}\n\nexport default class PowerPlantList extends Component {\n    \n    constructor(props){\n        super(props)\n        this.onClick = this.onClick.bind(this);\n        this.state = {\n          data: [],\n          filter:\"\",\n          productionValue:\"\",\n          view:'table',\n          currentPage: 1\n        }\n        this._loadData = this._loadData.bind(this);\n        \n      }\n\n     componentWillMount(){\n        this._loadData() // first time loading the data\n        setInterval(()=> this._loadData(), 10000) // data will after 10 second\n       \n     }\n\n     filterType(e){\n        this.setState({filter: e.target.value})\n      }\n     \n      filterProductionValue(e){\n        this.setState({productionValue: e.target.value})\n      }\n\n     _loadData() {\n        const {   data } = this.state;\n        axios.get(URL_PATH).then(response => {\n         console.log(response); \n          this.setState({\n            data: response.data,\n            \n          });\n          \n        });\n      }\n\n      onClick(){\n        console.log(this.state.view)\n        this.setState({view: 'map'}, () => { \n            \n        });\n                      \n      }\n\n    render() {\n      // filter type\n      let getData;\n      if(this.state.filter !='') {\n        getData = this.state.data.filter(\n        (dt) =>{\n          console.log(dt.type)\n          return dt.type === this.state.filter;\n        }\n      );\n      } else {\n         getData =  this.state.data;\n      }\n\n      //  productionValue sorting\n      if(this.state.productionValue){\n        console.log(this.state.productionValue)\n        if(this.state.productionValue == 'desc'){\n            getData.sort((a, b) => b.production_value_kw - a.production_value_kw);\n        } else if(this.state.productionValue == 'asc'){\n            getData.sort((a, b) => a.production_value_kw - b.production_value_kw);    \n        } \n    } \n      \n       \n        return (\n            \n          <div className=\"container\"> \n            <h3>Power Plants</h3>\n            <div className=\"row\">\n                  <div className=\"col m4 s4 center-align\">\n                      <label>Filter</label>\n                      <select onChange={this.filterType.bind(this)} value={this.state.filterType} className=\"browser-default\">\n                          <option value=\"\">Select Type</option>\n                          <option value=\"WIND_ONSHORE\">On Shore</option>\n                          <option value=\"WIND_OFFSHORE\">Off Shore</option>\n                          <option value=\"HYDRO\">Hydro</option>\n                          <option value=\"BIOMASS\">BIOMASS</option>\n                      </select>\n                  </div>\n                  <div className=\"col m4 s4 center-align\">\n                  <label>Production Value (Max or Min)</label>\n                      <select onChange={this.filterProductionValue.bind(this)} value={this.state.filterProductionValue} className=\"browser-default\">\n                          <option value=\"\">Select Production Value</option>\n                          <option value=\"desc\">Production Value Max</option>\n                          <option value=\"asc\">Production Value Min</option>\n                      </select>\n                   </div>\n              </div> \n           {/* Table View */}\n          <TableView data={getData}  /> \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}