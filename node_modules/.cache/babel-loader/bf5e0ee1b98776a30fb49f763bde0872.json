{"ast":null,"code":"var _jsxFileName = \"/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TableView from './TableView';\nconst URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants'; //const URL_PATH = 'http://localhost:8081/power-plants';\n\n/**\n * @public\n * @class\n * PowerPlantList to get json object and displayed it.\n */\n\nexport default class PowerPlantList extends Component {\n  /**\n   * @public\n   * @function\n   * It can be used to bind event handlers to the component and/or initializing the local state of the component\n   * data [] - initializing json values in array\n   * filter - filter type\n   * productionValue - sorting max or min values\n   */\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      data: [],\n      filter: \"\",\n      productionValue: \"\"\n    };\n    this._loadData = this._loadData.bind(this);\n  }\n  /**\n   * @function\n   * this function for load data \n   * setInterval  -   data  will updating every 10 seconds\n   */\n\n\n  componentWillMount() {\n    this._loadData(); // first time loading the data\n\n\n    setInterval(() => this._loadData(), 10000); // data will after 10 seconds\n  }\n  /**\n    * @function\n    * this function for set state value for filter type\n    * filter  -   set state value WIND_ONSHORE | WIND_OFFSHORE | HYDRO | BIOMASS\n    */\n\n\n  filterType(e) {\n    this.setState({\n      filter: e.target.value\n    });\n  }\n  /**\n   * @function\n   * this function for sorting to set state Descending & Acending\n   * filter  -   set state value desc & asc\n   */\n\n\n  filterProductionValue(e) {\n    this.setState({\n      productionValue: e.target.value\n    });\n  }\n  /**\n   * @function\n   * this function for fetching data from json url\n   * data  -   response data store to data variable\n   */\n\n\n  _loadData() {\n    const data = this.state.data;\n    axios.get(URL_PATH).then(response => {\n      console.log(response);\n      this.setState({\n        data: response.data\n      });\n    });\n  }\n\n  render() {\n    // filter type\n\n    /**\n    * filer the data when we change the drop down \n    */\n    let getData;\n\n    if (this.state.filter != '') {\n      getData = this.state.data.filter(dt => {\n        console.log(dt.type);\n        return dt.type === this.state.filter;\n      });\n    } else {\n      getData = this.state.data;\n    } //  productionValue sorting\n\n\n    if (this.state.productionValue) {\n      console.log(this.state.productionValue);\n\n      if (this.state.productionValue == 'desc') {\n        getData.sort((a, b) => b.production_value_kw - a.production_value_kw);\n      } else if (this.state.productionValue == 'asc') {\n        getData.sort((a, b) => a.production_value_kw - b.production_value_kw);\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Power Plants\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Filter\"), React.createElement(\"select\", {\n      onChange: this.filterType.bind(this),\n      value: this.state.filterType,\n      className: \"browser-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Select Type\"), React.createElement(\"option\", {\n      value: \"WIND_ONSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"On Shore\"), React.createElement(\"option\", {\n      value: \"WIND_OFFSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Off Shore\"), React.createElement(\"option\", {\n      value: \"HYDRO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Hydro\"), React.createElement(\"option\", {\n      value: \"BIOMASS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"BIOMASS\"))), React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Production Value (Max or Min)\"), React.createElement(\"select\", {\n      onChange: this.filterProductionValue.bind(this),\n      value: this.state.filterProductionValue,\n      className: \"browser-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Select Production Value\"), React.createElement(\"option\", {\n      value: \"desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Production Value Max\"), React.createElement(\"option\", {\n      value: \"asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Production Value Min\")))), React.createElement(TableView, {\n      data: getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js"],"names":["React","Component","axios","TableView","URL_PATH","PowerPlantList","constructor","props","onClick","bind","state","data","filter","productionValue","_loadData","componentWillMount","setInterval","filterType","e","setState","target","value","filterProductionValue","get","then","response","console","log","render","getData","dt","type","sort","a","b","production_value_kw"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport TableView from './TableView';\n const URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants';\n//const URL_PATH = 'http://localhost:8081/power-plants';\n \n \n    /**\n     * @public\n     * @class\n     * PowerPlantList to get json object and displayed it.\n     */\nexport default class PowerPlantList extends Component {\n    /**\n     * @public\n     * @function\n     * It can be used to bind event handlers to the component and/or initializing the local state of the component\n     * data [] - initializing json values in array\n     * filter - filter type\n     * productionValue - sorting max or min values\n     */\n    constructor(props){\n        super(props)\n        this.onClick = this.onClick.bind(this);\n        this.state = {\n          data: [],\n          filter:\"\",\n          productionValue:\"\",\n        }\n        this._loadData = this._loadData.bind(this);\n        \n      }\n    /**\n     * @function\n     * this function for load data \n     * setInterval  -   data  will updating every 10 seconds\n     */\n\n     componentWillMount(){\n        this._loadData() // first time loading the data\n        setInterval(()=> this._loadData(), 10000) // data will after 10 seconds\n       \n     }\n     /**\n       * @function\n       * this function for set state value for filter type\n       * filter  -   set state value WIND_ONSHORE | WIND_OFFSHORE | HYDRO | BIOMASS\n       */\n\n     filterType(e){\n        this.setState({filter: e.target.value})\n      }\n\n      /**\n       * @function\n       * this function for sorting to set state Descending & Acending\n       * filter  -   set state value desc & asc\n       */\n     \n      filterProductionValue(e){\n        this.setState({productionValue: e.target.value})\n      }\n\n      /**\n       * @function\n       * this function for fetching data from json url\n       * data  -   response data store to data variable\n       */\n\n     _loadData() {\n        const {   data } = this.state;\n        axios.get(URL_PATH).then(response => {\n         console.log(response); \n          this.setState({\n            data: response.data,\n            \n          });\n          \n        });\n      }\n\n      \n\n    render() {\n      // filter type\n       /**\n       * filer the data when we change the drop down \n       */\n      let getData;\n      if(this.state.filter !='') {\n        getData = this.state.data.filter(\n        (dt) =>{\n          console.log(dt.type)\n          return dt.type === this.state.filter;\n        }\n      );\n      } else {\n         getData =  this.state.data;\n      }\n\n      //  productionValue sorting\n      if(this.state.productionValue){\n        console.log(this.state.productionValue)\n        if(this.state.productionValue == 'desc'){\n            getData.sort((a, b) => b.production_value_kw - a.production_value_kw);\n        } else if(this.state.productionValue == 'asc'){\n            getData.sort((a, b) => a.production_value_kw - b.production_value_kw);    \n        } \n    } \n      \n       \n        return (\n            \n          <div className=\"container\"> \n            <h3>Power Plants</h3>\n            <div className=\"row\">\n                  <div className=\"col m4 s4 center-align\">\n                      <label>Filter</label>\n                      <select onChange={this.filterType.bind(this)} value={this.state.filterType} className=\"browser-default\">\n                          <option value=\"\">Select Type</option>\n                          <option value=\"WIND_ONSHORE\">On Shore</option>\n                          <option value=\"WIND_OFFSHORE\">Off Shore</option>\n                          <option value=\"HYDRO\">Hydro</option>\n                          <option value=\"BIOMASS\">BIOMASS</option>\n                      </select>\n                  </div>\n                  <div className=\"col m4 s4 center-align\">\n                  <label>Production Value (Max or Min)</label>\n                      <select onChange={this.filterProductionValue.bind(this)} value={this.state.filterProductionValue} className=\"browser-default\">\n                          <option value=\"\">Select Production Value</option>\n                          <option value=\"desc\">Production Value Max</option>\n                          <option value=\"asc\">Production Value Min</option>\n                      </select>\n                   </div>\n              </div> \n           {/* Table */}\n          <TableView data={getData}  /> \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}