{"ast":null,"code":"var _jsxFileName = \"/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TableView from './TableView';\nimport Button from './Button';\nimport MapView from './MapView';\nconst URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants'; //const URL_PATH = 'http://localhost:8081/power-plants';\n\nexport default class PowerPlantList extends Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      data: [],\n      filter: \"\",\n      view: 'table'\n    };\n    this._loadData = this._loadData.bind(this);\n  }\n\n  componentWillMount() {\n    setInterval(() => this._loadData(), 10000);\n  }\n\n  filterChamp(e) {\n    this.setState({\n      filter: e.target.value\n    });\n  }\n\n  _loadData() {\n    const data = this.state.data;\n    axios.get(URL_PATH).then(response => {\n      console.log(response);\n      this.setState({\n        data: response.data\n      });\n    });\n  }\n\n  onClick() {\n    console.log(this.state.view);\n    this.setState({\n      view: 'map'\n    }, () => {});\n  }\n\n  render() {\n    // filer\n    let getData;\n\n    if (this.state.filter != '') {\n      getData = this.state.data.filter(dt => {\n        console.log(dt.type);\n        return dt.type === this.state.filter;\n      });\n    } else {\n      getData = this.state.data;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Power Plants\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Sort By\"), React.createElement(\"select\", {\n      onChange: this.filterChamp.bind(this),\n      value: this.state.filterChamp,\n      className: \"browser-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Select\"), React.createElement(\"option\", {\n      value: \"WIND_ONSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"On Shore\"), React.createElement(\"option\", {\n      value: \"WIND_OFFSHORE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Off Shore\"), React.createElement(\"option\", {\n      value: \"HYDRO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Hydro\"), React.createElement(\"option\", {\n      value: \"BIOMASS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"BIOMASS\"))), React.createElement(\"div\", {\n      className: \"col m4 s4 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Button, {\n      view: this.state.view,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))), React.createElement(TableView, {\n      data: getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js"],"names":["React","Component","axios","TableView","Button","MapView","URL_PATH","PowerPlantList","constructor","props","onClick","bind","state","data","filter","view","_loadData","componentWillMount","setInterval","filterChamp","e","setState","target","value","get","then","response","console","log","render","getData","dt","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport TableView from './TableView';\nimport Button from './Button';\nimport MapView from './MapView';\n const URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants';\n//const URL_PATH = 'http://localhost:8081/power-plants';\n \n \n\nexport default class PowerPlantList extends Component {\n    \n    constructor(props){\n        super(props)\n        this.onClick = this.onClick.bind(this);\n        this.state = {\n          data: [],\n          filter:\"\",\n          view:'table'\n        }\n        this._loadData = this._loadData.bind(this);\n        \n      }\n\n     componentWillMount(){\n       \n        setInterval(()=> this._loadData(), 10000)\n       \n     }\n\n     filterChamp(e){\n        this.setState({filter: e.target.value})\n      }\n\n     _loadData() {\n        const {   data } = this.state;\n        axios.get(URL_PATH).then(response => {\n         console.log(response); \n          this.setState({\n            data: response.data,\n            \n          });\n          \n        });\n      }\n\n      onClick(){\n        console.log(this.state.view)\n        this.setState({view: 'map'}, () => { \n            \n        });\n                      \n      }\n\n    render() {\n      // filer\n      let getData;\n      if(this.state.filter !='') {\n        getData = this.state.data.filter(\n        (dt) =>{\n          console.log(dt.type)\n          return dt.type === this.state.filter;\n        }\n      );\n      } else {\n         getData =  this.state.data;\n      }\n      \n       \n        return (\n            \n          <div className=\"container\"> \n            <h3>Power Plants</h3>\n            <div className=\"row\">\n                  <div className=\"col m4 s4 center-align\">\n                      <label>Sort By</label>\n                      <select onChange={this.filterChamp.bind(this)} value={this.state.filterChamp} className=\"browser-default\">\n                          <option value=\"\">Select</option>\n                          <option value=\"WIND_ONSHORE\">On Shore</option>\n                          <option value=\"WIND_OFFSHORE\">Off Shore</option>\n                          <option value=\"HYDRO\">Hydro</option>\n                          <option value=\"BIOMASS\">BIOMASS</option>\n                      </select>\n                  </div>\n                  <div className=\"col m4 s4 center-align\">\n                    <Button view={this.state.view}/>\n                   </div>\n              </div> \n          {/* <MapView data={getData}/>  */}\n          <TableView data={getData}  /> \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}