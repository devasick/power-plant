{"ast":null,"code":"import _classCallCheck from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/asick/projects/task/resonanz/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import TableView from'./TableView';var URL_PATH='https://reactdemoapi.herokuapp.com/power-plants';//const URL_PATH = 'http://localhost:8081/power-plants';\n/**\n     * @public\n     * @class\n     * PowerPlantList to get json object and displayed it.\n     */var PowerPlantList=/*#__PURE__*/function(_Component){_inherits(PowerPlantList,_Component);/**\n     * @public\n     * @function\n     * It can be used to bind event handlers to the component and/or initializing the local state of the component\n     * data [] - initializing json values in array\n     * filter - filter type\n     * productionValue - sorting max or min values\n     */function PowerPlantList(props){var _this;_classCallCheck(this,PowerPlantList);_this=_possibleConstructorReturn(this,_getPrototypeOf(PowerPlantList).call(this,props));_this.state={data:[],filter:\"\",productionValue:\"\"};_this._loadData=_this._loadData.bind(_assertThisInitialized(_this));return _this;}/**\n     * @function\n     * this function for load data \n     * setInterval  -   data  will updating every 10 seconds\n     */_createClass(PowerPlantList,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this._loadData();// first time loading the data\nsetInterval(function(){return _this2._loadData();},10000);// data will after 10 seconds\n}/**\n       * @function\n       * this function for set state value for filter type\n       * filter  -   set state value WIND_ONSHORE | WIND_OFFSHORE | HYDRO | BIOMASS\n       */},{key:\"filterType\",value:function filterType(e){this.setState({filter:e.target.value});}/**\n       * @function\n       * this function for sorting to set state Descending & Acending\n       * filter  -   set state value desc & asc\n       */},{key:\"filterProductionValue\",value:function filterProductionValue(e){this.setState({productionValue:e.target.value});}/**\n       * @function\n       * this function for fetching data from json url\n       * data  -   response data store to data variable\n       */},{key:\"_loadData\",value:function _loadData(){var _this3=this;var data=this.state.data;axios.get(URL_PATH).then(function(response){console.log(response);_this3.setState({data:response.data});});}},{key:\"render\",value:function render(){var _this4=this;// filter type\n/**\n       * filer the data when we change the drop down \n       */var getData;if(this.state.filter!=''){getData=this.state.data.filter(function(dt){console.log(dt.type);return dt.type===_this4.state.filter;});}else{getData=this.state.data;}//  productionValue sorting\nif(this.state.productionValue){console.log(this.state.productionValue);if(this.state.productionValue=='desc'){getData.sort(function(a,b){return b.production_value_kw-a.production_value_kw;});}else if(this.state.productionValue=='asc'){getData.sort(function(a,b){return a.production_value_kw-b.production_value_kw;});}}return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h3\",null,\"Power Plants\"),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col m4 s4 center-align\"},React.createElement(\"label\",null,\"Filter\"),React.createElement(\"select\",{onChange:this.filterType.bind(this),value:this.state.filterType,className:\"browser-default\"},React.createElement(\"option\",{value:\"\"},\"Select Type\"),React.createElement(\"option\",{value:\"WIND_ONSHORE\"},\"On Shore\"),React.createElement(\"option\",{value:\"WIND_OFFSHORE\"},\"Off Shore\"),React.createElement(\"option\",{value:\"HYDRO\"},\"Hydro\"),React.createElement(\"option\",{value:\"BIOMASS\"},\"BIOMASS\"))),React.createElement(\"div\",{className:\"col m4 s4 center-align\"},React.createElement(\"label\",null,\"Production Value (Max or Min)\"),React.createElement(\"select\",{onChange:this.filterProductionValue.bind(this),value:this.state.filterProductionValue,className:\"browser-default\"},React.createElement(\"option\",{value:\"\"},\"Select Production Value\"),React.createElement(\"option\",{value:\"desc\"},\"Production Value Max\"),React.createElement(\"option\",{value:\"asc\"},\"Production Value Min\")))),React.createElement(TableView,{data:getData}));}}]);return PowerPlantList;}(Component);export{PowerPlantList as default};","map":{"version":3,"sources":["/Users/asick/projects/task/resonanz/frontend/src/Components/PowerPlantList.js"],"names":["React","Component","axios","TableView","URL_PATH","PowerPlantList","props","state","data","filter","productionValue","_loadData","bind","setInterval","e","setState","target","value","get","then","response","console","log","getData","dt","type","sort","a","b","production_value_kw","filterType","filterProductionValue"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport TableView from './TableView';\n const URL_PATH = 'https://reactdemoapi.herokuapp.com/power-plants';\n//const URL_PATH = 'http://localhost:8081/power-plants';\n \n \n    /**\n     * @public\n     * @class\n     * PowerPlantList to get json object and displayed it.\n     */\nexport default class PowerPlantList extends Component {\n    /**\n     * @public\n     * @function\n     * It can be used to bind event handlers to the component and/or initializing the local state of the component\n     * data [] - initializing json values in array\n     * filter - filter type\n     * productionValue - sorting max or min values\n     */\n    constructor(props){\n        super(props)\n        this.state = {\n          data: [],\n          filter:\"\",\n          productionValue:\"\",\n        }\n        this._loadData = this._loadData.bind(this);\n        \n      }\n    /**\n     * @function\n     * this function for load data \n     * setInterval  -   data  will updating every 10 seconds\n     */\n\n     componentWillMount(){\n        this._loadData() // first time loading the data\n        setInterval(()=> this._loadData(), 10000) // data will after 10 seconds\n       \n     }\n     /**\n       * @function\n       * this function for set state value for filter type\n       * filter  -   set state value WIND_ONSHORE | WIND_OFFSHORE | HYDRO | BIOMASS\n       */\n\n     filterType(e){\n        this.setState({filter: e.target.value})\n      }\n\n      /**\n       * @function\n       * this function for sorting to set state Descending & Acending\n       * filter  -   set state value desc & asc\n       */\n     \n      filterProductionValue(e){\n        this.setState({productionValue: e.target.value})\n      }\n\n      /**\n       * @function\n       * this function for fetching data from json url\n       * data  -   response data store to data variable\n       */\n\n     _loadData() {\n        const {   data } = this.state;\n        axios.get(URL_PATH).then(response => {\n         console.log(response); \n          this.setState({\n            data: response.data,\n            \n          });\n          \n        });\n      }\n\n      \n\n    render() {\n      // filter type\n       /**\n       * filer the data when we change the drop down \n       */\n      let getData;\n      if(this.state.filter !='') {\n        getData = this.state.data.filter(\n        (dt) =>{\n          console.log(dt.type)\n          return dt.type === this.state.filter;\n        }\n      );\n      } else {\n         getData =  this.state.data;\n      }\n\n      //  productionValue sorting\n      if(this.state.productionValue){\n        console.log(this.state.productionValue)\n        if(this.state.productionValue == 'desc'){\n            getData.sort((a, b) => b.production_value_kw - a.production_value_kw);\n        } else if(this.state.productionValue == 'asc'){\n            getData.sort((a, b) => a.production_value_kw - b.production_value_kw);    \n        } \n    } \n      \n       \n        return (\n            \n          <div className=\"container\"> \n            <h3>Power Plants</h3>\n            <div className=\"row\">\n              {/* drop down for type */}\n                  <div className=\"col m4 s4 center-align\">\n                      <label>Filter</label>\n                      <select onChange={this.filterType.bind(this)} value={this.state.filterType} className=\"browser-default\">\n                          <option value=\"\">Select Type</option>\n                          <option value=\"WIND_ONSHORE\">On Shore</option>\n                          <option value=\"WIND_OFFSHORE\">Off Shore</option>\n                          <option value=\"HYDRO\">Hydro</option>\n                          <option value=\"BIOMASS\">BIOMASS</option>\n                      </select>\n                  </div>\n                  {/* drop down value Production Value */}\n                  <div className=\"col m4 s4 center-align\">\n                  <label>Production Value (Max or Min)</label>\n                      <select onChange={this.filterProductionValue.bind(this)} value={this.state.filterProductionValue} className=\"browser-default\">\n                          <option value=\"\">Select Production Value</option>\n                          <option value=\"desc\">Production Value Max</option>\n                          <option value=\"asc\">Production Value Min</option>\n                      </select>\n                   </div>\n              </div> \n           {/* Table */}\n          <TableView data={getData}  /> \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}